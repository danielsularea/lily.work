!function(e){"use strict";var t,n=window.Main||{},o=n.settings={headerScroll:"js--headerScroll",workMenu:"js--workMenu",workMenuLink:"js--workMenuLink",zoomImages:'[data-action="zoom"]'},i=function(e,t){var n=document.documentElement.offsetHeight-window.innerHeight;e>=n?e=n:e<=0&&(e=0);var o=(e-window.scrollY)/t*10;setTimeout(function(){window.scrollTo(window.scrollX,window.scrollY+o),window.scrollY!==e&&i(e,t-10)},10)},s=function(e){if(e)return e.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)},r=function(){Barba.Pjax.getTransition=function(){return Transition},document.addEventListener("DOMContentLoaded",function(e){Barba.Pjax.start()}),Barba.Dispatcher.on("transitionCompleted",function(e,t,n){d(),a(),k()})},a=function(){mediumZoom(document.querySelectorAll(o.zoomImages))},f=function(){t={exists:!1,element:void 0,offsetY:0,links:{},refs:{}}},l=function(){f();var e=document.getElementsByClassName(o.workMenu);if(e[0]){var n=e[0],i=n.dataset.offsety?n.dataset.offsety:0;t.exists=!0,t.element=e[0],t.offsetY=i;for(var s=document.querySelectorAll("."+o.workMenu+" a"),r=0;r<s.length;r++){var a=s[r].getAttribute("href").split("#")[1],l=document.getElementById(a);t.links[a]=s[r],t.refs[a]=l}}},c=function(){var e={};for(var n in t.refs){var o=parseInt(s(t.refs[n]));e[n]=o-t.offsetY}return e},d=function(){l()},u=function(){var e=document.getElementsByClassName(o.headerScroll);if(e[0]){var t=e[0];(window.pageYOffset||document.documentElement.scrollTop)>0?t.classList.add("fixed"):t.classList.remove("fixed")}},m=function(){if(t.exists){var e=t.element,n=e.parentNode,o=n.offsetTop,i=t.offsetY,r=window.pageYOffset||document.documentElement.scrollTop;s(n);e.style.opacity=r>=o-i-75?1:0,o-r<=i?(e.style.width=n.offsetWidth+"px",e.style.position="fixed",e.style.top=i+"px"):(e.style.width="auto",e.style.position="static")}},w=function(e){if(t.exists){e.preventDefault();var n=e.target.getAttribute("href").split("#")[1],o=t.refs[n],r=parseInt(s(o))-t.offsetY;e.target.blur(),i(r,300)}},v=function(){if(t.exists){t.element;var e=window.pageYOffset||document.documentElement.scrollTop,n=c(),i=document.documentElement.offsetHeight-window.innerHeight;for(var s in t.links){var r=t.links[s].parentNode.classList;if(r.contains(o.workMenuLink)){var a=n[s];if(r.remove("active"),e>=a-1||e>=i){for(var f in t.links)t.links[f].parentNode.classList.remove("active");r.add("active")}}}}},p=function(){d(),m()},g=function(){u(),m(),v()},k=function(){window.addEventListener("resize",p),document.addEventListener("scroll",g);for(var e in t.links)t.links[e].addEventListener("click",w)};n._init=function(){r(),d(),a(),k()},n._init()}();