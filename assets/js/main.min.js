!function(n,t,i){function o(){v(),m(),w(),_()}function a(){n(window).on("resize",e),n(window).bind("scroll",s),n(document).delegate("a","click",r),History.Adapter.bind(window,"statechange",l)}function e(n){m()}function s(n){u.animating&&n.preventDefault(),h()}function r(n){var t=document.location.hostname||document.location.host;n.preventDefault(),this.href.includes(t)?this.pathname.includes("pdf")?window.open(this.href):u.animating||(History.pushState({},"",this.pathname),c(this.href)):window.open(this.href)}function c(t){u.animating=!0,n("body").addClass("loading"),n(u.loading_bar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d(t),n(u.loading_bar).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),u.hasTransitions||d(t)}function d(t){t=""===t?"index.html":t;var i=n(u.ajax_content).parent();n.get(t,function(n){document.title=n.match(/<title>(.*?)<\/title>/)[1]}),i.load(t+" "+u.ajax_content,function(t){var i=u.hasTransitions?1500:0;setTimeout(function(){n(window).scrollTop(0,0),n("body").removeClass("loading"),n(u.loading_bar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){u.animating=!1,n(u.loading_bar).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),u.hasTransitions||(u.animating=!1)},i),g.init()})}function l(n){var t=History.getState();u.animating||c(t.url)}function h(){var t=n(u.project_inner),i=n(u.project_left),o=n(u.project_right),a=(n(i).outerHeight(),n(o).outerWidth()),e=n(t).outerHeight(),s=n(window).height(),r=n(window).scrollTop()+s,c=100+e-s;e+100>s?r>100+e?n(t).css({width:a,"margin-top":0-c,position:"fixed"}):n(t).css({"margin-top":0,position:"static"}):n(t).css({width:a,position:"fixed"})}var g=t,u=g.settings={navbar:".navbar",project:"#works .project",project_inner:"#work-detail .project__detail > div",project_left:"#work-detail .project__images",project_right:"#work-detail .project__detail",ajax_content:".content",loading_bar:".loading__bar",hasTransitions:!1,animating:!1},f=n(u.navbar),p=f.outerHeight(),m=g.setDimensions=function(){n(u.project).each(function(){var t=window.getComputedStyle(this,":before").getPropertyValue("content").replace(/\"/g,"");console.log(t),t.length>0?n(this).css("height",n(window).height()-p):n(this).css("height",t)})},w=g.setActivePage=function(){var t=n(".content").attr("id");t.length>0&&(n(".navbar__menu a").each(function(){n(this).removeClass("active")}),n("a#"+t).addClass("active"))},_=g.callPrism=function(){n('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code').length&&Prism.highlightAll()},v=g.transitionSupported=function(){u.hasTransitions=n("html").hasClass("csstransitions")};return g.init=function(){o(),a()},n(document).ready(function(){g.init()}),g}(jQuery,window.Main||{});