!function(n,i,t){function o(){T(),m(),w(),_()}function a(){n(window).on("resize",e),n(window).bind("scroll",s),n(document).delegate("a","click",r),History.Adapter.bind(window,"statechange",l)}function e(n){m()}function s(n){g.animating&&n.preventDefault(),h()}function r(n){var i=document.location.hostname||document.location.host;n.preventDefault(),this.href.includes(i)?this.pathname.includes("pdf")?window.open(this.href):g.animating||(History.pushState({},"",this.pathname),d(this.href)):window.open(this.href)}function d(i){g.animating=!0,n("body").addClass("loading"),n(".loading__bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){c(i),n(".loading__bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),g.hasTransitions||c(i)}function c(i){i=""==i?"index.html":i;var t=n(".content").parent();t.load(i+" .content",function(i){var t=g.hasTransitions?1500:0;setTimeout(function(){n("body").removeClass("loading"),n(".loading__bar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){g.animating=!1,n(".loading__bar").off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),g.hasTransitions||(g.animating=!1)},t),n(window).scrollTop(0,0),u.init()})}function l(n){var i=History.getState();g.animating||d(i.url)}function h(){var i=n(g.project_inner),t=n(g.project_left),o=n(g.project_right),a=(n(t).outerHeight(),n(o).outerWidth()),e=n(i).outerHeight(),s=n(window).height(),r=n(window).scrollTop()+s,d=100+e-s;e+100>s?r>100+e?n(i).css({width:a,"margin-top":0-d,position:"fixed"}):n(i).css({"margin-top":0,position:"static"}):n(i).css({width:a,position:"fixed"})}var u=i,g=u.settings={navbar:".navbar",project:"#works .project",project_inner:"#work-detail .project__detail > div",project_left:"#work-detail .project__images",project_right:"#work-detail .project__detail",hasTransitions:!1,animating:!1},f=n(g.navbar),p=f.outerHeight(),m=u.setDimensions=function(){n(g.project).each(function(){n(this).css("height",n(window).height()-p)})},w=u.setActivePage=function(){var i=n(".content").attr("id");i.length>0&&(n(".navbar__menu a").each(function(){n(this).removeClass("active")}),n("a#"+i).addClass("active"))},_=u.callPrism=function(){n('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code').length&&Prism.highlightAll()},T=u.transitionSupported=function(){g.hasTransitions=n("html").hasClass("csstransitions")};return u.init=function(){o(),a()},n(document).ready(function(){u.init()}),u}(jQuery,window.Main||{});