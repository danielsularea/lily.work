!function(n,t,i){function o(){T(),p(),w(),_()}function a(){n(window).on("resize",e),n(window).bind("scroll",s),n(document).delegate("a","click",r),History.Adapter.bind(window,"statechange",l)}function e(n){p()}function s(n){g.animating&&n.preventDefault(),h()}function r(n){var t=document.location.hostname||document.location.host;n.preventDefault(),this.href.includes(t)?this.pathname.includes("pdf")?window.open(this.href):g.animating||(History.pushState({},"",this.pathname),c(this.href)):window.open(this.href)}function c(t){g.animating=!0,n("body").addClass("loading"),n(g.loading_bar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d(t),n(g.loading_bar).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),g.hasTransitions||d(t)}function d(t){t=""===t?"index.html":t;var i=n(g.ajax_content).parent();n.get(t,function(n){document.title=n.match(/<title>(.*?)<\/title>/)[1]}),i.load(t+" "+g.ajax_content,function(t){var i=g.hasTransitions?1500:0;setTimeout(function(){n(window).scrollTop(0,0),n("body").removeClass("loading"),n(g.loading_bar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){g.animating=!1,n(g.loading_bar).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),g.hasTransitions||(g.animating=!1)},i),u.init()})}function l(n){var t=History.getState();g.animating||c(t.url)}function h(){var t=n(g.project_inner),i=n(g.project_left),o=n(g.project_right),a=(n(i).outerHeight(),n(o).outerWidth()),e=n(t).outerHeight(),s=n(window).height(),r=n(window).scrollTop()+s,c=100+e-s;e+100>s?r>100+e?n(t).css({width:a,"margin-top":0-c,position:"fixed"}):n(t).css({"margin-top":0,position:"static"}):n(t).css({width:a,position:"fixed"})}var u=t,g=u.settings={navbar:".navbar",project:"#works .project",project_inner:"#work-detail .project__detail > div",project_left:"#work-detail .project__images",project_right:"#work-detail .project__detail",ajax_content:".content",loading_bar:".loading__bar",hasTransitions:!1,animating:!1},f=n(g.navbar),m=f.outerHeight(),p=u.setDimensions=function(){n(g.project).each(function(){n(this).css("height",n(window).height()-m)})},w=u.setActivePage=function(){var t=n(".content").attr("id");t.length>0&&(n(".navbar__menu a").each(function(){n(this).removeClass("active")}),n("a#"+t).addClass("active"))},_=u.callPrism=function(){n('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code').length&&Prism.highlightAll()},T=u.transitionSupported=function(){g.hasTransitions=n("html").hasClass("csstransitions")};return u.init=function(){o(),a()},n(document).ready(function(){u.init()}),u}(jQuery,window.Main||{});