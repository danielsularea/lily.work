!function(n,t,i){function o(){v(),w(),_(),b()}function a(){n(window).on("resize",e),n(window).bind("scroll",s),n("a").on("click",r),History.Adapter.bind(window,"statechange",l)}function e(n){w(),u()}function s(n){u()}function r(n){var t=document.location.hostname||document.location.host;n.preventDefault(),this.href.includes(t)?this.pathname.includes("pdf")?window.open(this.href):f.animating||(History.pushState({},"",this.pathname),c(this.href)):window.open(this.href)}function c(t){f.animating=!0,n("body").addClass("loading"),n(f.loading_bar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){d(t),n(f.loading_bar).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),f.hasTransitions||d(t)}function d(t){t=""===t?"index.html":t;var i=n(f.ajax_content).parent();n.get(t,function(n){document.title=n.match(/<title>(.*?)<\/title>/)[1]}),i.load(t+" "+f.ajax_content,function(t){var i=f.hasTransitions?1500:0;setTimeout(function(){n(window).scrollTop(0,0),n("body").removeClass("loading"),n(f.loading_bar).one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){f.animating=!1,n(f.loading_bar).off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend")}),f.hasTransitions||(f.animating=!1)},i),g.init()})}function l(n){var t=History.getState();f.animating||c(t.url)}function h(n){var t=window.getComputedStyle(n,":before").getPropertyValue("content").replace(/\"/g,""),i=t.indexOf("_"),o=t.substring(0,i),a=t.substring(i+1);return o.length>0?[!0,a]:[!1,a]}function u(){var t=h(document.querySelector(f.project_right)),i=t[0],o=n(f.project_inner),a=n(f.project_left),e=n(f.project_right),s=(n(a).outerHeight(),n(e).outerWidth()),r=n(o).outerHeight(),c=n(window).height(),d=n(window).scrollTop()+c,l=100+r-c;i?r+100>c?d>100+r?n(o).css({width:s,"margin-top":0-l,position:"fixed"}):n(o).css({"margin-top":0,position:"static"}):n(o).css({width:s,position:"fixed"}):n(o).css({"margin-top":0,position:"static",width:"auto"})}var g=t,f=g.settings={navbar:".navbar",project:"#works .project",project_inner:"#work-detail .project__detail > div",project_left:"#work-detail .project__images",project_right:"#work-detail .project__detail",ajax_content:".content",loading_bar:".loading__bar",hasTransitions:!1,animating:!1},p=n(f.navbar),m=p.outerHeight(),w=g.setDimensions=function(){n(f.project).each(function(){var t=h(this),i=t[0],o=t[1];i?n(this).css("height",n(window).height()-m):n(this).css("height",o)})},_=g.setActivePage=function(){var t=n(".content").attr("id");t.length>0&&(n(".navbar__menu a").each(function(){n(this).removeClass("active")}),n("a#"+t).addClass("active"))},b=g.callPrism=function(){n('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code').length&&Prism.highlightAll()},v=g.transitionSupported=function(){f.hasTransitions=n("html").hasClass("csstransitions")};return g.init=function(){o(),a()},n(document).ready(function(){g.init()}),g}(jQuery,window.Main||{});